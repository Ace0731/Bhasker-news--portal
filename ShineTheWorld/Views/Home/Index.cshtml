@model ShineTheWorld.Models.HomeViewModel

<!-- Category Filters -->
<div class="category-filters">
    <div class="d-flex flex-wrap align-items-center justify-content-center">
        <a class="btn @(Model.ActiveCategory == null ? "btn-primary" : "btn-outline-secondary")" href="/">
            <i class="fas fa-home me-1"></i>All News
        </a>
        @foreach (var cat in Model.Categories)
        {
            <a class="btn @(Model.ActiveCategory == cat ? "btn-primary" : "btn-outline-secondary")"
                href="/?category=@cat">
                @switch(cat)
                {
                    case "India":
                        <i class="fas fa-flag me-1"></i>
                        break;
                    case "World":
                        <i class="fas fa-globe me-1"></i>
                        break;
                    case "Business":
                        <i class="fas fa-chart-line me-1"></i>
                        break;
                    case "Sports":
                        <i class="fas fa-futbol me-1"></i>
                        break;
                    case "Entertainment":
                        <i class="fas fa-film me-1"></i>
                        break;
                    case "Technology":
                        <i class="fas fa-microchip me-1"></i>
                        break;
                    case "Health":
                        <i class="fas fa-heartbeat me-1"></i>
                        break;
                    case "Lifestyle":
                        <i class="fas fa-coffee me-1"></i>
                        break;
                    default:
                        <i class="fas fa-newspaper me-1"></i>
                        break;
                }
                @cat
            </a>
        }
    </div>
</div>

@if (Model.Articles.Any())
{
    var featuredArticle = Model.Articles.First();
    var otherArticles = Model.Articles.Skip(1);

    <!-- Featured Article -->
    <div class="featured-article">
        <div class="row g-0">
            <div class="col-md-6">
                <img src="@featuredArticle.ImageUrl" alt="@featuredArticle.Title" />
            </div>
            <div class="col-md-6">
                <div class="content">
                    <span class="category-badge">@featuredArticle.Category</span>
                    <h2 class="display-title">@featuredArticle.Title</h2>
                    <p class="excerpt">
                        Breaking news from the world of @featuredArticle.Category.ToLower(). Stay updated with the latest developments and comprehensive coverage.
                    </p>
                    <div class="d-flex align-items-center justify-content-between">
                        <div class="card-meta">
                            <span><i class="fas fa-clock me-1"></i>@featuredArticle.PublishedDate.ToLocalTime().ToString("MMM dd, yyyy")</span>
                            <span><i class="fas fa-eye me-1"></i>@(new Random().Next(1000, 50000)) views</span>
                        </div>
                        @if (featuredArticle.IsPremium)
                        {
                            <span class="premium-badge">
                                <i class="fas fa-crown"></i>Premium
                            </span>
                        }
                    </div>
                    <div class="mt-3">
                        <a class="read-more-btn" href="/Article/Details/@featuredArticle.Id">
                            Read Full Story <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Other Articles Grid -->
    <div class="row">
        <div class="col-lg-8">
            <div class="row g-4">
                @foreach (var article in otherArticles)
                {
                    <div class="col-md-6">
                        <article class="news-card">
                            <div class="position-relative">
                                <img src="@article.ImageUrl" alt="@article.Title" />
                                @if (article.IsPremium)
                                {
                                    <div class="position-absolute top-0 end-0 m-2">
                                        <span class="premium-badge">
                                            <i class="fas fa-crown"></i>Premium
                                        </span>
                                    </div>
                                }
                            </div>
                            <div class="card-body">
                                <span class="category-badge">@article.Category</span>
                                <h5 class="card-title">
                                    <a href="/Article/Details/@article.Id" class="text-decoration-none">
                                        @article.Title
                                    </a>
                                </h5>
                                <div class="card-meta">
                                    <span><i class="fas fa-clock"></i>@article.PublishedDate.ToLocalTime().ToString("MMM dd")</span>
                                    <span><i class="fas fa-eye"></i>@(new Random().Next(500, 25000))</span>
                                </div>
                                <a class="read-more-btn" href="/Article/Details/@article.Id">
                                    Read More <i class="fas fa-arrow-right"></i>
                                </a>
                            </div>
                        </article>
                    </div>
                }
            </div>
        </div>

        <!-- Sidebar -->
        <div class="col-lg-4">
            <!-- Trending News -->
            <div class="sidebar-widget">
                <h5><i class="fas fa-fire text-danger me-2"></i>Trending Now</h5>
                @for (int i = 0; i < Math.Min(5, Model.Articles.Count()); i++)
                {
                    var trendingArticle = Model.Articles.Skip(i).First();
                    <div class="trending-item">
                        <div class="trending-number">@(i + 1)</div>
                        <div class="trending-content">
                            <h6>
                                <a href="/Article/Details/@trendingArticle.Id" class="text-decoration-none">
                                    @(trendingArticle.Title.Length > 60 ? trendingArticle.Title.Substring(0, 60) + "..." : trendingArticle.Title)
                                </a>
                            </h6>
                            <div class="meta">
                                @trendingArticle.Category • @trendingArticle.PublishedDate.ToLocalTime().ToString("MMM dd")
                            </div>
                        </div>
                    </div>
                }
            </div>

            <!-- Quick Links -->
            <div class="sidebar-widget">
                <h5><i class="fas fa-link text-primary me-2"></i>Quick Links</h5>
                <div class="d-grid gap-2">
                    <a href="/?category=India" class="btn btn-outline-primary btn-sm">
                        <i class="fas fa-flag me-2"></i>India News
                    </a>
                    <a href="/?category=World" class="btn btn-outline-primary btn-sm">
                        <i class="fas fa-globe me-2"></i>World News
                    </a>
                    <a href="/?category=Business" class="btn btn-outline-primary btn-sm">
                        <i class="fas fa-chart-line me-2"></i>Business
                    </a>
                    <a href="/?category=Sports" class="btn btn-outline-primary btn-sm">
                        <i class="fas fa-futbol me-2"></i>Sports
                    </a>
                </div>
            </div>

            <!-- Weather Widget -->
            <div class="sidebar-widget">
                <h5><i class="fas fa-cloud-sun text-warning me-2"></i>Weather</h5>
                <div class="text-center">
                    <div class="display-6 text-primary">28°C</div>
                    <p class="mb-1">New Delhi</p>
                    <small class="text-muted">Partly Cloudy</small>
                </div>
            </div>
        </div>
    </div>
}
else
{
    <div class="text-center py-5">
        <i class="fas fa-newspaper fa-3x text-muted mb-3"></i>
        <h3>No articles available</h3>
        <p class="text-muted">Check back later for the latest news updates.</p>
    </div>
}